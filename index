<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>NiePrzepłacaj</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Inter', Arial, sans-serif;
  background:#f8f7f7;
  color:#130086;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:40px;
}

h1 {
  margin-bottom:5px;
}

p {
  margin-top:0;
  margin-bottom:30px;
}

.container {
  display:flex;
  align-items:flex-start;
  gap:40px;
  width:100%;
  max-width:800px;
}

/* LEWA KOLUMNA */
.sidebar {
  display:flex;
  flex-direction:column;
  gap:20px;
  width:180px;
}

.sidebar button {
  background:white;
  color:#130086;
  border:2px solid #130086;
  border-radius:6px;
  padding:15px;
  cursor:pointer;
  font-weight:600;
  text-transform:lowercase;
  transition: background 0.2s;
}
.sidebar button:hover {
  background:#e0e0ff;
}

/* PRAWA STRONA (formularz) */
.main {
  flex:1;
}
.hidden { display:none; }

.main select,
.main input,
.main button {
  width:100%;
  padding:12px;
  margin-bottom:15px;
  border:2px solid #130086;
  border-radius:6px;
  font-family:'Inter',sans-serif;
  font-size:15px;
}

.main button {
  background:white;
  color:#130086;
  cursor:pointer;
  font-weight:600;
}
.main button:hover {
  background:#e0e0ff;
}

.result {
  margin-top:10px;
  border:2px solid #130086;
  border-radius:6px;
  padding:15px;
}

.sub {
  margin-top:8px;
  border-top:1px solid #130086;
  padding-top:8px;
}
</style>
</head>
<body>

<h1>Nie przepłacaj</h1>
<p>Wybierz kategorię produktu aby zobaczyć ile możesz oszczędzić</p>

<div class="container">
  <div class="sidebar" id="categories"></div>

  <div class="main" id="app" class="hidden">
    <h2 id="catTitle"></h2>
    <select id="product"></select>
    <input id="qty" type="number" placeholder="Ile razy w miesiącu kupujesz?">
    <button onclick="calc()">Policz oszczędności</button>
    <div class="result" id="result"></div>
  </div>
</div>

<script>
// --- DANE ---
const data = {
  "Napoje": {
    products:{
      "Coca-Cola 0.5L": {price:3, subs:{"Freeway Cola 0.5L":2}},
      "Pepsi 0.5L": {price:3, subs:{"Hoop Cola 0.5L":2.2}},
      "Red Bull 250ml": {price:6, subs:{"Tiger 250ml":3.5,"Black 250ml":3}}
    }
  },
  "Jedzenie": {
    products:{
      "Kinder Bueno": {price:4.5, subs:{"Prince Polo":2.5}},
      "Czekolada Milka 100g": {price:5, subs:{"Czekolada Lidl 100g":3}}
    }
  },
  "Kosmetyki":{
    products:{
      "Szampon Nivea": {price:12, subs:{"Szampon Lidl":7}},
      "Żel Dove": {price:9, subs:{"Żel BeBeauty":5}}
    }
  },
  "Środki czystości":{
    products:{
      "Domestos 750ml":{price:10, subs:{"W5 Płyn 750ml":5.5}},
      "Fairy 450ml":{price:9, subs:{"Pur 450ml":6}}
    }
  }
};

// --- ELEMENTY HTML ---
const catDiv = document.getElementById("categories");
const app = document.getElementById("app");
const prodSel = document.getElementById("product");
let currentCat;

// GENEROWANIE LISTY KATEGORII
for(let c in data){
  const btn = document.createElement("button");
  btn.textContent = c.toLowerCase();
  btn.onclick = ()=>openCat(c);
  catDiv.appendChild(btn);
}

function openCat(c){
  currentCat = c;
  app.classList.remove("hidden");
  document.getElementById("catTitle").innerText = c.toLowerCase();
  loadProducts();
}

function loadProducts(){
  prodSel.innerHTML = "";
  for(let p in data[currentCat].products){
    const opt = document.createElement("option");
    opt.textContent = p;
    prodSel.appendChild(opt);
  }
}

function calc(){
  const q = parseFloat(document.getElementById("qty").value);
  if(!q || q<=0){ alert("Podaj poprawną ilość"); return; }
  const p = prodSel.value;
  const item = data[currentCat].products[p];
  let html = `<b>Cena:</b> ${item.price.toFixed(2)} zł<br>`;
  html += `<b>Miesięcznie wydajesz:</b> ${(item.price*q).toFixed(2)} zł<br>`;
  html += `<b>Rocznie wydajesz:</b> ${(item.price*q*12).toFixed(2)} zł<br>`;
  
  for(let s in item.subs){
    const save = (item.price - item.subs[s])*q;
    html += `<div class="sub"><b>${s}</b><br>Cena: ${item.subs[s].toFixed(2)} zł<br>
    Miesięcznie oszczędzasz: ${save.toFixed(2)} zł<br>
    Rocznie oszczędzasz: <b>${(save*12).toFixed(2)} zł</b></div>`;
  }
  document.getElementById("result").innerHTML = html;
}
</script>

</body>
</html>
