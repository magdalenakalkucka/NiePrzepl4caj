<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>NiePrzepłacaj</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body {
  font-family: 'Inter', Arial, sans-serif;
  background:#f8f7f7;
  color:#130086;
  display:flex;
  flex-direction:column;
  align-items:center;
  padding:60px 20px;
  margin:0;
}

/* NAGŁÓWEK */
h1 {
  font-size:64px;
  font-weight:700;
  margin-bottom:20px;
}

p {
  font-size:22px;
  margin-bottom:60px;
}

/* GŁÓWNY UKŁAD */
.container {
  display:flex;
  gap:60px;
  width:100%;
  max-width:1100px;
}

/* LEWA STRONA – DUŻE KWADRATY */
.sidebar {
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:30px;
  width:400px;
}

.sidebar button {
  height:150px;
  font-size:20px;
  font-weight:700;
  text-transform:uppercase;
  background:white;
  border:3px solid #130086;
  border-radius:20px;
  cursor:pointer;
  transition:0.2s;
}

.sidebar button:hover {
  background:#e6e6ff;
}

.sidebar button.active {
  background:#130086;
  color:white;
}

/* PRAWA STRONA */
.main {
  flex:1;
}

.main h2{
  font-size:26px;
  margin-bottom:20px;
}

.hidden { display:none; }

.main select,
.main input,
.main button {
  width:100%;
  height:60px;
  padding:0 15px;
  margin-bottom:20px;
  border:3px solid #130086;
  border-radius:15px;
  font-size:18px;
  font-family:'Inter',sans-serif;
}

/* SELECT – strzałka w dół */
.main select {
  appearance:none;
  background:white;
  background-image:url("data:image/svg+xml;utf8,<svg fill='%23130086' height='24' viewBox='0 0 24 24' width='24' xmlns='http://www.w3.org/2000/svg'><path d='M7 10l5 5 5-5z'/></svg>");
  background-repeat:no-repeat;
  background-position:right 15px center;
  background-size:20px;
}

.main button {
  background:#130086;
  color:white;
  font-weight:700;
  cursor:pointer;
  transition:0.2s;
}

.main button:hover {
  background:#0d0060;
}

/* WYNIK */
.result {
  margin-top:20px;
  border:3px solid #130086;
  border-radius:20px;
  padding:25px;
  font-size:18px;
}

.sub {
  margin-top:15px;
  padding-top:15px;
  border-top:1px solid #130086;
}
</style>
</head>
<body>

<h1>NiePrzepłacaj</h1>
<p>Wybierz kategorię produktu aby zobaczyć ile możesz oszczędzić</p>

<div class="container">
  <div class="sidebar" id="categories"></div>

  <div class="main hidden" id="app">
    <h2 id="catTitle"></h2>
    <select id="product"></select>
    <input id="qty" type="number" placeholder="Ile razy w miesiącu kupujesz?">
    <button onclick="calc()">Policz oszczędności</button>
    <div class="result" id="result"></div>
  </div>
</div>

<script>
// --- DANE ---
const data = {
  "Napoje": {
    products:{
      "Coca-Cola 0.5L": {price:3, subs:{"Freeway Cola 0.5L":2}},
      "Pepsi 0.5L": {price:3, subs:{"Hoop Cola 0.5L":2.2}},
      "Red Bull 250ml": {price:6, subs:{"Tiger 250ml":3.5,"Black 250ml":3}}
    }
  },
  "Jedzenie": {
    products:{
      "Kinder Bueno": {price:4.5, subs:{"Prince Polo":2.5}},
      "Czekolada Milka 100g": {price:5, subs:{"Czekolada Lidl 100g":3}}
    }
  },
  "Kosmetyki":{
    products:{
      "Szampon Nivea": {price:12, subs:{"Szampon Lidl":7}},
      "Żel Dove": {price:9, subs:{"Żel BeBeauty":5}}
    }
  },
  "Środki Czystości":{
    products:{
      "Domestos 750ml":{price:10, subs:{"W5 Płyn 750ml":5.5}},
      "Fairy 450ml":{price:9, subs:{"Pur 450ml":6}}
    }
  }
};

// --- ELEMENTY HTML ---
const catDiv = document.getElementById("categories");
const app = document.getElementById("app");
const prodSel = document.getElementById("product");
let currentCat;

// GENEROWANIE LISTY KATEGORII
for(let c in data){
  const btn = document.createElement("button");
  btn.textContent = c.toUpperCase();
  btn.onclick = function(e){ openCat(c, e); };
  catDiv.appendChild(btn);
}

function openCat(c, event){
  currentCat = c;
  app.classList.remove("hidden");

  // podświetlenie wybranego kwadratu
  document.querySelectorAll(".sidebar button")
    .forEach(b => b.classList.remove("active"));
  event.currentTarget.classList.add("active");

  document.getElementById("catTitle").innerText = c.toUpperCase();
  loadProducts();
}

function loadProducts(){
  prodSel.innerHTML = "";
  for(let p in data[currentCat].products){
    const opt = document.createElement("option");
    opt.textContent = p;
    prodSel.appendChild(opt);
  }
}

function calc(){
  const q = parseFloat(document.getElementById("qty").value);
  if(!q || q<=0){ alert("Podaj poprawną ilość"); return; }
  const p = prodSel.value;
  const item = data[currentCat].products[p];

  let html = `<div style="font-weight:700; font-size:20px;">${p}</div><br>`;
  html += `Cena: ${item.price.toFixed(2)} zł<br>`;
  html += `Miesięcznie wydajesz: ${(item.price*q).toFixed(2)} zł<br>`;
  html += `Rocznie wydajesz: ${(item.price*q*12).toFixed(2)} zł<br>`;
  
  for(let s in item.subs){
    const save = (item.price - item.subs[s])*q;
    html += `<div class="sub"><b>${s}</b><br>Cena: ${item.subs[s].toFixed(2)} zł<br>
    Miesięcznie oszczędzasz: ${save.toFixed(2)} zł<br>
    Rocznie oszczędzasz: <b>${(save*12).toFixed(2)} zł</b></div>`;
  }
  document.getElementById("result").innerHTML = html;
}
</script>

</body>
</html>
